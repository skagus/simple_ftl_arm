OS 적용된 것과 FSM으로 돌린 것의 성능 비교를 해 보았다. 
SoC는 stm32f103(cortex m3), compiler는 arm gcc를 사용하였다.

FTL의 구현은 최대한 단순하게 하였으며, 실제 NAND가 없기 때문에 memory상에서 spare 값만 관리하였다. 
rebuild는 지원이 안되기 때문에, test 시작시 format을 하며, 이 시간은 측정하지 않았다. 
측정 내용은, SW, SR, RR, RW 를 모두 진행하였으며, 
RW의 경우, GC가 없는 초기 성능을 보기 위해서 짧게 나누어서 여러번 수행하였다. 

os와 fsm 공히 compile option은 동일하며, optimize level만 바꿔어 가면서 test하였다. 
그리고 OS에서 Ofast2 는 OS의 context switch를 좀더 최적화 한 버전이다. 
(동작에 이상이 없으니, 최적화 버전을 최종으로 생각하면 된다.)

OS Ofast2와 FSM Ofast 와 비교를 해 보면, 
SW 에서 OS가 6% 우세.
첫번째 RW에서 OS가 19% 우세.
두번째 RW에서 FSM이 5% 우세.
마지막 RW에서는 FSM이 15% 우세.

나머지 test는 3% 안쪽의 성능 차를 보여줬으며, 
평균값의 경우, 0.2% 차이로 FSM이 우세를 보여줬다. (사실상 차이가 없었다.)


결과:

	OS				OS opt		FSM					Ratio				
	O0	O2	O3	Ofast	Ofast2		O0	O2	O3	Ofast		O0	O2	O3	Ofast	Ofast2
SW:	2186509	910516	854443	839887	822584		2254394	973944	877767	877722		1.031	1.070	1.027	1.045	1.067
SR:	1726040	679377	612079	608621	595192		1730384	692377	605878	605869		1.003	1.019	0.990	0.995	1.018
RR:	1755926	710052	640473	636633	623584		1758025	720043	633816	633857		1.001	1.014	0.990	0.996	1.016
RW:	370571	158614	149320	146635	143558		407557	182368	170955	170957		1.100	1.150	1.145	1.166	1.191
RW:	1150003	500254	470895	465591	454971		1039920	446155	429776	429778		0.904	0.892	0.913	0.923	0.945
RW:	1583154	688241	648236	641884	627151		1534866	649980	624748	624758		0.969	0.944	0.964	0.973	0.996
RW:	1508952	656289	618029	612023	597927		1516863	643108	618100	618138		1.005	0.980	1.000	1.010	1.034
RW:	1323560	573711	539969	534937	522510		1252628	531432	511284	511282		0.946	0.926	0.947	0.956	0.979
RW:	1483348	645591	607868	601906	587947		1396552	593377	570538	570538		0.941	0.919	0.939	0.948	0.970
RW:	1430057	622241	585636	580088	566553		1416704	601330	578102	578113		0.991	0.966	0.987	0.997	1.020
RW:	1513549	660565	622183	615656	601556		1238472	528627	508500	508515		0.818	0.800	0.817	0.826	0.845
Sum	16031669	6805451	6349131	6283861	6143533		15546365	6562741	6129464	6129527		0.970	0.964	0.965	0.975	0.998
																
																